import {Break} from 'dcme-style';
import {Code} from 'dcme-style';
import {Divider} from 'dcme-style';
import {Text} from 'dcme-style';
import {DocsType} from 'dcme-style';
import {Param} from 'dcme-style';
import ReactCoolStorageHookSource from '../../example/ReactCoolStorageHookSource.txt';
import ReactCoolStorageMessageDescription from './ReactCoolStorageMessageDescription.mdx';

# ReactCoolStorageHook

ReactCoolStorageHook is a React hook that accepts a number of storage mechanisms. It returns a `ReactCoolStorageMessage` containing the value and a function to change the value.

This is also available [as a hoc](/api/ReactCoolStorageHoc).

```flow
import ReactCoolStorageHook from 'react-cool-storage';
```

### Example usage

<Code language="jsx">{ReactCoolStorageHookSource}</Code>

<Break />

### Arguments

```flow
const useStorage = ReactCoolStorageHook(
    ...storageMechanisms: StorageMechanism[]
);
```

* <Param name="...storageMechanisms" type="StorageMechanism[]" />
  One or more storage mechanisms. If more than one storage mechanism is provided, the first available one is used on component mount. This allows you to set fallback storage mechanisms. If none are available, the last one will be used, and the hook will return a `ReactCoolStorageMessage` describing the error about why it's not available.

### Returns

* <Param name="useStorage" type="Function / React hook" />
  The returned `useStorage` hook can be used in one or more components [like any other React hook](https://reactjs.org/docs/hooks-intro.html).

<Divider />

## useStorage hook

### Arguments

```flow
let message = useStorage(props);
```

* <Param name="props" type="Object / React props" />
  All `useStorage` hooks expect to be passed all props. These may or may not be used depending on the available storage mechanisms.

### Returns

* <Param name="ReactCoolStorageMessage" type="ReactCoolStorageMessage" />
  The `useStorage` hook returns a `ReactCoolStorageMessage`, which is used to get and set the value in storage.

<Divider />

## ReactCoolStorageMessage

<ReactCoolStorageMessageDescription />
